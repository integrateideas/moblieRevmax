<!--
  Generated template for the CartPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
    <ion-header>
      <ion-navbar>
        <ion-title>Your Cart</ion-title>
      </ion-navbar>
    </ion-header>
    
    
    <ion-content>
    
      <ion-card>
        <ion-grid>
          <ion-row>
            <ion-col>Your Cart Description</ion-col>
          </ion-row>
          <ion-row [hidden]="!showEmptyCartMessage">
            <ion-col>There are no products in your cart!</ion-col>
          </ion-row>
        </ion-grid>
      </ion-card>
    
    
      <ion-list>
        <ion-item *ngFor="let item of cartItems; let i = index">
          <ion-card>
            <ion-grid>
              <ion-row>
                <ion-col col-4>
                  <ion-thumbnail item-left>
                    <img [src]="item.product.images[0] ? item.product.images[0].src : ''" style="width: 80px !important; height: 80px !important;"/>
                  </ion-thumbnail>
                </ion-col>
                <ion-col text-wrap col-8>
                  <h2 style="color:red">{{ item.product.name }}</h2>
                  
                  <ion-row>
                    <ion-col col-6>
                      <p style= "margin-top: 16px">Quantity : </p>
                    </ion-col>
                    <ion-col col-6>
                      <ion-item>
                        <!-- <ion-label>Quantity</ion-label> -->
                        <ion-input type="number" value="" min="1" placeholder="Quantity" [(ngModel)]="item.quantity" (ngModelChange)="addQuantity(item,item.quantity)"
                          name="qty"></ion-input>
                      </ion-item>
                    </ion-col>
                  </ion-row>
                  <p>$ {{item.quantity * item.product.price }}</p>
                  <br>
                  <p style="color:blue " tappable (click)="removeFromCart(item, i)">Remove</p>
                  <!-- <ion-label tappable (click)="removeFromCart(item, i)" color="primary">Remove</ion-label> -->
  
                  <!-- <button ion-button clear item-right color="danger" tappable (click)="removeFromCart(item, i)">
                    <ion-icon name="close-circle"></ion-icon>
                  </button> -->
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-card>

          <ion-card *ngIf = "item.product.force_sell_product_info">
              <ion-grid>
                <ion-row>
                  <ion-col col-4>
                    <ion-thumbnail item-left>
                      <img [src]="item.product.force_sell_product_info.product_image" style="width: 80px !important; height: 80px !important;"/>
                    </ion-thumbnail>
                  </ion-col>
                  <ion-col text-wrap col-8>
                    <h2 style="color:red">{{ item.product.force_sell_product_info.product_name }}</h2>
                    <p style= "margin-top: 16px">Quantity : {{item.quantity}}</p><br>
                    <p>$ {{item.product.force_sell_product_info.product_price * item.quantity }}</p>
                  </ion-col>
                </ion-row>
              </ion-grid>
            </ion-card>
        </ion-item>
      </ion-list>
    
    
      <ion-grid>
        <ion-card>
          <ion-grid>
            <ion-row>
              <ion-col col-2>
    
              </ion-col>
              <ion-col col-4>
                <b>TOTAL</b>
              </ion-col>
              <ion-col col-3>
    
              </ion-col>
              <ion-col col-3 style="text-align: right">
                <b>$ {{ total }} </b>
              </ion-col>
    
    
            </ion-row>
          </ion-grid>
        </ion-card>
      </ion-grid>
    
    </ion-content>
    
    <ion-footer>
      <ion-toolbar>
        <ion-grid>
          <ion-row>
            <ion-col>
              <button ion-button color="danger" outline block (click)="closeModal()">Back</button>
            </ion-col>
            <ion-col>
              <form ngNoForm action=" http://revmax.twinspark.co/add-product/" target="_blank" method="POST">
                <input type= "hidden" name="q" [(ngModel)]="cartString" value="cartString">
                <button ion-button color="danger"  on-mouseover="checkout()" block type="submit">Checkout</button>
              </form>
              <!-- <button ion-button color="danger" block (click)="checkout()">Checkout</button> -->
            </ion-col>
            <!-- <form ngNoForm action=" http://revmax.twinspark.co/add-product/" target="_blank" method="POST">
              <input name="q" [(ngModel)]="cartString" value="cartString">
              <button type="submit">Submit</button>
            </form> -->
          </ion-row>
        </ion-grid>
      </ion-toolbar>
    </ion-footer>
